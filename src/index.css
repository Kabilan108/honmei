@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";
@import "@fontsource-variable/jetbrains-mono";

/* ============================================
   THEME SYSTEM
   ============================================
   Themes are applied via class on <html> element.
   Default theme is gruvbox-dark.
   ============================================ */

/* Base variables (defaults to Gruvbox Dark) */
:root {
    /* Background layers */
    --background: oklch(0.16 0.01 75);
    --surface: oklch(0.21 0.01 65);
    --surface-raised: oklch(0.28 0.02 60);
    --surface-overlay: oklch(0.32 0.02 55);

    /* Foreground */
    --foreground: oklch(0.90 0.05 90);
    --foreground-muted: oklch(0.75 0.04 85);
    --foreground-subtle: oklch(0.60 0.03 80);

    /* Borders */
    --border: oklch(0.35 0.02 60);
    --border-muted: oklch(0.28 0.01 65);

    /* Primary accent */
    --primary: oklch(0.75 0.18 55);
    --primary-foreground: oklch(0.20 0.02 55);
    --primary-muted: oklch(0.65 0.12 55);

    /* Semantic colors */
    --destructive: oklch(0.60 0.20 25);
    --destructive-foreground: oklch(0.95 0.02 25);
    --success: oklch(0.65 0.17 145);
    --success-foreground: oklch(0.20 0.04 145);

    /* Legacy compatibility */
    --card: var(--surface);
    --card-foreground: var(--foreground);
    --popover: var(--surface-overlay);
    --popover-foreground: var(--foreground);
    --secondary: var(--surface-raised);
    --secondary-foreground: var(--foreground);
    --muted: var(--surface-raised);
    --muted-foreground: var(--foreground-muted);
    --accent: var(--surface-raised);
    --accent-foreground: var(--foreground);
    --input: var(--border);
    --ring: var(--primary);

    /* Charts */
    --chart-1: oklch(0.85 0.17 85);
    --chart-2: oklch(0.75 0.18 55);
    --chart-3: oklch(0.70 0.15 140);
    --chart-4: oklch(0.65 0.15 200);
    --chart-5: oklch(0.60 0.12 280);

    /* Status colors (defaults to Gruvbox palette) */
    --status-completed: oklch(0.30 0.06 110);
    --status-completed-fg: oklch(0.75 0.17 110);
    --status-watching: oklch(0.30 0.04 145);
    --status-watching-fg: oklch(0.75 0.10 145);
    --status-plan: oklch(0.32 0.06 85);
    --status-plan-fg: oklch(0.85 0.17 85);
    --status-hold: oklch(0.30 0.06 55);
    --status-hold-fg: oklch(0.75 0.18 55);
    --status-dropped: oklch(0.28 0.06 25);
    --status-dropped-fg: oklch(0.65 0.22 25);

    /* Sidebar (maps to surface) */
    --sidebar: var(--surface);
    --sidebar-foreground: var(--foreground);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-accent: var(--surface-raised);
    --sidebar-accent-foreground: var(--foreground);
    --sidebar-border: var(--border);
    --sidebar-ring: var(--ring);

    --radius: 0.375rem;
}

/* ============================================
   CATPPUCCIN MOCHA
   ============================================ */
.theme-catppuccin-mocha {
    --background: oklch(0.18 0.02 280);
    --surface: oklch(0.24 0.02 280);
    --surface-raised: oklch(0.30 0.02 275);
    --surface-overlay: oklch(0.35 0.02 275);

    --foreground: oklch(0.90 0.03 280);
    --foreground-muted: oklch(0.78 0.03 275);
    --foreground-subtle: oklch(0.65 0.03 270);

    --border: oklch(0.38 0.02 275);
    --border-muted: oklch(0.30 0.02 280);

    --primary: oklch(0.77 0.15 300);
    --primary-foreground: oklch(0.20 0.03 300);
    --primary-muted: oklch(0.65 0.10 300);

    --destructive: oklch(0.65 0.18 15);
    --destructive-foreground: oklch(0.95 0.02 15);
    --success: oklch(0.75 0.14 165);
    --success-foreground: oklch(0.20 0.04 165);

    --chart-1: oklch(0.77 0.15 300);
    --chart-2: oklch(0.85 0.10 340);
    --chart-3: oklch(0.80 0.12 180);
    --chart-4: oklch(0.75 0.12 220);
    --chart-5: oklch(0.70 0.10 85);

    /* Status colors (Catppuccin pastels) */
    --status-completed: oklch(0.28 0.04 145);
    --status-completed-fg: oklch(0.85 0.12 145);
    --status-watching: oklch(0.28 0.03 210);
    --status-watching-fg: oklch(0.85 0.08 210);
    --status-plan: oklch(0.28 0.04 270);
    --status-plan-fg: oklch(0.80 0.10 270);
    --status-hold: oklch(0.30 0.04 60);
    --status-hold-fg: oklch(0.82 0.12 60);
    --status-dropped: oklch(0.28 0.05 5);
    --status-dropped-fg: oklch(0.75 0.13 5);
}

/* ============================================
   SOLARIZED LIGHT
   ============================================ */
.theme-solarized-light {
    --background: oklch(0.97 0.02 95);
    --surface: oklch(0.93 0.02 90);
    --surface-raised: oklch(0.88 0.02 90);
    --surface-overlay: oklch(0.98 0.01 95);

    --foreground: oklch(0.35 0.03 210);
    --foreground-muted: oklch(0.50 0.03 210);
    --foreground-subtle: oklch(0.62 0.02 200);

    --border: oklch(0.85 0.02 90);
    --border-muted: oklch(0.90 0.02 95);

    --primary: oklch(0.55 0.15 240);
    --primary-foreground: oklch(0.98 0.01 240);
    --primary-muted: oklch(0.65 0.10 240);

    --destructive: oklch(0.55 0.18 25);
    --destructive-foreground: oklch(0.98 0.01 25);
    --success: oklch(0.55 0.14 160);
    --success-foreground: oklch(0.98 0.01 160);

    --chart-1: oklch(0.55 0.15 240);
    --chart-2: oklch(0.55 0.18 40);
    --chart-3: oklch(0.60 0.15 150);
    --chart-4: oklch(0.50 0.15 280);
    --chart-5: oklch(0.55 0.18 340);

    /* Status colors (Solarized accents, light-optimized) */
    --status-completed: oklch(0.92 0.04 115);
    --status-completed-fg: oklch(0.50 0.13 115);
    --status-watching: oklch(0.92 0.03 185);
    --status-watching-fg: oklch(0.50 0.10 185);
    --status-plan: oklch(0.90 0.04 280);
    --status-plan-fg: oklch(0.45 0.12 280);
    --status-hold: oklch(0.92 0.04 80);
    --status-hold-fg: oklch(0.52 0.13 80);
    --status-dropped: oklch(0.92 0.04 30);
    --status-dropped-fg: oklch(0.50 0.16 30);
}

/* ============================================
   TAILWIND THEME MAPPING
   ============================================ */
@theme inline {
    --font-sans: 'JetBrains Mono Variable', monospace;

    /* New semantic tokens */
    --color-surface: var(--surface);
    --color-surface-raised: var(--surface-raised);
    --color-surface-overlay: var(--surface-overlay);
    --color-foreground-muted: var(--foreground-muted);
    --color-foreground-subtle: var(--foreground-subtle);
    --color-border-muted: var(--border-muted);
    --color-primary-muted: var(--primary-muted);
    --color-destructive-foreground: var(--destructive-foreground);
    --color-success: var(--success);
    --color-success-foreground: var(--success-foreground);

    /* Status colors */
    --color-status-completed: var(--status-completed);
    --color-status-completed-fg: var(--status-completed-fg);
    --color-status-watching: var(--status-watching);
    --color-status-watching-fg: var(--status-watching-fg);
    --color-status-plan: var(--status-plan);
    --color-status-plan-fg: var(--status-plan-fg);
    --color-status-hold: var(--status-hold);
    --color-status-hold-fg: var(--status-hold-fg);
    --color-status-dropped: var(--status-dropped);
    --color-status-dropped-fg: var(--status-dropped-fg);

    /* Existing tokens */
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);
    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);
    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);
    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);
    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);
    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);
    --color-destructive: var(--destructive);
    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    /* Charts */
    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    /* Sidebar */
    --color-sidebar: var(--sidebar);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);

    /* Radius */
    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);
    --radius-2xl: calc(var(--radius) + 8px);
    --radius-3xl: calc(var(--radius) + 12px);
    --radius-4xl: calc(var(--radius) + 16px);
}

@layer base {
    * {
        @apply border-border outline-ring/50;
    }
    body {
        @apply font-sans bg-background text-foreground;
    }
    html {
        @apply font-sans;
    }
}
